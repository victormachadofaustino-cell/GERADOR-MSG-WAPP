<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Mensagens</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3B82F6"/>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="spinner"></div>
    </div>

    <!-- Auth Container (Login Screen) -->
    <div id="auth-container">
        <div id="auth-panel">
            <h2>Login</h2>
            <form id="login-form">
                <input type="email" id="login-email" placeholder="Email" required autocomplete="email">
                <input type="password" id="login-password" placeholder="Senha" required autocomplete="current-password">
                <button type="submit" id="login-button">Entrar</button>
                <div id="error-message"></div>
            </form>
        </div>
    </div>

    <!-- App Container (Main App) -->
    <div id="app-container" style="display: none;">
        <!-- Top Header -->
        <header id="app-header">
            <h1 id="header-title">Eventos</h1>
            <div id="user-info">
                <span id="user-email"></span>
                <button id="logout-button" class="icon-button">
                    <span class="material-icons">logout</span>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Events View -->
            <section id="events-view" class="app-view active">
                <div class="view-header">
                    <button id="add-event-button" class="button primary-button">
                        <span class="material-icons">add</span> Novo Evento
                    </button>
                </div>

                <!-- Filtros de tipo de evento -->
                <div id="events-filters">
                    <button class="filter-chip active" data-filter="todos">Todos</button>
                    <button class="filter-chip" data-filter="reuniao">Reuniões</button>
                    <button class="filter-chip" data-filter="ensaio">Ensaios</button>
                    <button class="filter-chip" data-filter="extra">Extras</button>
                </div>

                <!-- Lista de eventos agrupados por mês -->
                <div id="events-list">
                    <!-- Eventos serão renderizados aqui -->
                </div>
            </section>

            <!-- Generator View -->
            <section id="generator-view" class="app-view">
                <div class="view-header">
                    <h2>Gerador de Mensagens</h2>
                </div>
                <div class="card">
                    <p>Aqui será o formulário para gerar mensagens.</p>
                </div>
            </section>

            <!-- Templates View -->
            <section id="templates-view" class="app-view">
                <div class="view-header">
                    <button id="add-template-button" class="button primary-button">
                        <span class="material-icons">add</span> Novo Template
                    </button>
                </div>
                <div class="card-list" id="templates-list">
                    <div class="card">
                        <h3>Template de Exemplo</h3>
                        <p>Conteúdo: Lorem ipsum dolor sit amet...</p>
                        <div class="card-actions">
                            <button class="icon-button"><span class="material-icons">edit</span></button>
                            <button class="icon-button"><span class="material-icons">delete</span></button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings View -->
            <section id="settings-view" class="app-view">
                <div class="view-header">
                    <h2>Configurações</h2>
                </div>
                <div class="card">
                    <p>Aqui serão as opções de configuração.</p>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation Bar -->
        <nav id="bottom-nav">
            <button class="nav-item active" data-view="events-view" data-title="Eventos">
                <span class="material-icons">event</span>
                <span>Eventos</span>
            </button>
            <button class="nav-item" data-view="generator-view" data-title="Gerador">
                <span class="material-icons">auto_awesome</span>
                <span>Gerador</span>
            </button>
            <button class="nav-item" data-view="templates-view" data-title="Templates">
                <span class="material-icons">description</span>
                <span>Templates</span>
            </button>
            <button class="nav-item" data-view="settings-view" data-title="Configurações">
                <span class="material-icons">settings</span>
                <span>Configurações</span>
            </button>
        </nav>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Config (inline) -->
    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCADgdZJ45YtaRsPzPFGpQCFz5fOoTF5kI",
            authDomain: "gerador-msg-wapp.firebaseapp.com",
            projectId: "gerador-msg-wapp",
            storageBucket: "gerador-msg-wapp.firebasestorage.app",
            messagingSenderId: "879738577541",
            appId: "1:879738577541:web:bf90d416f52e12b1d97fec"
        };

        // Inicializa o Firebase
        firebase.initializeApp(firebaseConfig);
    </script>

    <!-- App Logic -->
    <script src="src/app.js"></script>
</body>
</html>